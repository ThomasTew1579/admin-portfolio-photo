import{u as g,r as u,j as a,I as f,t as h}from"./index-DSWP_m3q.js";import{g as x}from"./gallery-I8imnpWh.js";import{a as j}from"./catalog-BaTOuE_l.js";import{P as v}from"./PhotoEditModal-B31Aboxu.js";const y=h,b=x;function w({grid:c,objectFit:n}){const d=n?" md:object-cover":" md:object-contain",[p]=g(),m=p.get("title")?.toString(),t=j(y,b,{tagId:"",name:m},{sort:"date-desc"}),[l,r]=u.useState(null);return a.jsxs("div",{className:"photo-library p-3",children:[a.jsx("div",{className:"grid gap-2 grid-cols-3 md:[grid-template-columns:repeat(auto-fit,minmax(var(--grid,220px),1fr))] ",style:{"--grid":`${c}px`},children:t.map((s,o)=>a.jsxs("div",{className:"photo relative aspect-square h-full overflow-clip group",onDoubleClick:()=>r(t[o]),children:[a.jsx("img",{className:"h-full w-full object-cover group-hover:scale-110 duration-200 group-hover:opacity-80"+d,src:t[o].path,alt:"",loading:"lazy",decoding:"async",fetchPriority:"low"}),a.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-1/2 group-hover:opacity-100 opacity-0 duration-200",children:a.jsx(f,{name:"circle-ellipsis",size:40,className:"fill-white z-10"})})]},o))}),l&&a.jsx(v,{photo:l,onClose:()=>r(null),onUpdated:(s,o)=>{if(o){const e=t.findIndex(i=>i.id===l.id);e!==-1&&t.splice(e,1)}else if(s){const e=t.findIndex(i=>i.id===s.id);e!==-1&&(t[e]=s)}}})]})}export{w as default};
