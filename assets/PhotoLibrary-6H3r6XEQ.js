import{r as d,j as e,I as u}from"./index-mZ1N2BLY.js";import{g as i}from"./gallery-hc2n_KjD.js";import{P as m}from"./PhotoEditModal-BxKfYSXt.js";import"./catalog-Ks1EoZw8.js";function f({path:r,id:c,fit:n,onDoubleClick:s}){const[a,l]=d.useState(!1),t=()=>l(o=>!o);return e.jsxs("div",{onDoubleClick:()=>{s&&s()},onClick:()=>{t()},className:"photo relative aspect-square h-full overflow-clip group outline-primary "+(a?"outline-3":""),children:[e.jsx("img",{className:"h-full w-full object-cover group-hover:scale-110 duration-200 group-hover:opacity-80"+n,src:r,alt:""}),e.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-1/2 group-hover:opacity-100 opacity-0 duration-200",children:e.jsx(u,{name:"circle-ellipsis",size:40,className:"fill-white z-10"})})]},c)}function j({grid:r,objectFit:c}){const n=c?" md:object-cover":" md:object-contain",[s,a]=d.useState(null);return e.jsxs("div",{className:"photo-library relative",children:[e.jsx("div",{className:"grid gap-2 grid-cols-3 md:[grid-template-columns:repeat(auto-fit,minmax(var(--grid,220px),1fr))]  p-3",style:{"--grid":`${r}px`},children:i.map((l,t)=>e.jsx(f,{id:t,path:i[t].path,fit:n,onDoubleClick:()=>a(i[t])}))}),s&&e.jsx(m,{photo:s,onClose:()=>a(null),onUpdated:(l,t)=>{if(t){const o=i.findIndex(p=>p.id===s.id);o!==-1&&i.splice(o,1)}else if(l){const o=i.findIndex(p=>p.id===l.id);o!==-1&&(i[o]=l)}}})]})}export{j as default};
