import{u,r as g,j as o,I as f}from"./index-Cg2Mqwf9.js";import{t as h}from"./tag-DaE_wyQJ.js";import{g as x}from"./gallery-hc2n_KjD.js";import{a as j}from"./catalog-Ks1EoZw8.js";import{P as v}from"./PhotoEditModal-rbr7Exax.js";const b=h,y=x;function E({grid:c,objectFit:n}){const p=n?" md:object-cover":" md:object-contain",[d]=u(),m=d.get("title")?.toString(),t=j(b,y,{tagId:"",name:m},{sort:"date-desc"}),[l,i]=g.useState(null);return o.jsxs("div",{className:"photo-library p-3",children:[o.jsx("div",{className:"grid gap-2 grid-cols-3 md:[grid-template-columns:repeat(auto-fit,minmax(var(--grid,220px),1fr))] ",style:{"--grid":`${c}px`},children:t.map((e,s)=>o.jsxs("div",{className:"photo relative aspect-square h-full overflow-clip group",onDoubleClick:()=>i(t[s]),children:[o.jsx("img",{className:"h-full w-full object-cover group-hover:scale-110 duration-200 group-hover:opacity-80"+p,src:t[s].path,alt:""}),o.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-1/2 group-hover:opacity-100 opacity-0 duration-200",children:o.jsx(f,{name:"circle-ellipsis",size:40,className:"fill-white z-10"})})]},s))}),l&&o.jsx(v,{photo:l,onClose:()=>i(null),onUpdated:(e,s)=>{if(s){const a=t.findIndex(r=>r.id===l.id);a!==-1&&t.splice(a,1)}else if(e){const a=t.findIndex(r=>r.id===e.id);a!==-1&&(t[a]=e)}}})]})}export{E as default};
