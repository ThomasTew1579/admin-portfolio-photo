import{u,r as f,j as s,I as g}from"./index-mZ1N2BLY.js";import{a as h}from"./album-DAMXIxCZ.js";import{g as x}from"./gallery-hc2n_KjD.js";import{p as b}from"./catalog-Ks1EoZw8.js";import{P as j}from"./PhotoEditModal-BxKfYSXt.js";const v=h,I=x;function A({grid:c,objectFit:n}){const m=n?" md:object-cover":" md:object-contain",[p]=u(),d=p.get("title")?.toString(),e=b(v,I,{albumId:"",name:d},{sort:"date-desc"}),[l,r]=f.useState(null);return s.jsxs("div",{className:"album-single relative",children:[s.jsx("div",{className:"grid gap-2 grid-cols-3 md:[grid-template-columns:repeat(auto-fit,minmax(var(--grid,220px),1fr))]  p-3",style:{"--grid":`${c}px`},children:e.map((t,a)=>s.jsxs("div",{className:"photo relative aspect-square h-full overflow-clip group",onDoubleClick:()=>r(e[a]),children:[s.jsx("img",{className:"h-full w-full object-cover group-hover:scale-110 duration-200 group-hover:opacity-80"+m,src:e[a].path,alt:""}),s.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-1/2 group-hover:opacity-100 opacity-0 duration-200",children:s.jsx(g,{name:"circle-ellipsis",size:40,className:"fill-white z-10"})})]},a))}),l&&s.jsx(j,{photo:l,onClose:()=>r(null),onUpdated:(t,a)=>{if(a){const o=e.findIndex(i=>i.id===l.id);o!==-1&&e.splice(o,1)}else if(t){const o=e.findIndex(i=>i.id===t.id);o!==-1&&(e[o]=t)}}})]})}export{A as default};
