import{u,a as f,r as g,j as s,I as h}from"./index-DSWP_m3q.js";import{g as x}from"./gallery-I8imnpWh.js";import{p as b}from"./catalog-BaTOuE_l.js";import{P as j}from"./PhotoEditModal-B31Aboxu.js";const v=f,y=x;function w({grid:c,objectFit:n}){const d=n?" md:object-cover":" md:object-contain",[m]=u(),p=m.get("title")?.toString(),e=b(v,y,{albumId:"",name:p},{sort:"date-desc"}),[l,r]=g.useState(null);return s.jsxs("div",{className:"album-single relative",children:[s.jsx("div",{className:"grid gap-2 grid-cols-3 md:[grid-template-columns:repeat(auto-fit,minmax(var(--grid,220px),1fr))]  p-3",style:{"--grid":`${c}px`},children:e.map((t,a)=>s.jsxs("div",{className:"photo relative aspect-square h-full overflow-clip group",onDoubleClick:()=>r(e[a]),children:[s.jsx("img",{className:"h-full w-full object-cover group-hover:scale-110 duration-200 group-hover:opacity-80"+d,src:e[a].path,alt:"",loading:"lazy",decoding:"async",fetchPriority:"low"}),s.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-1/2 group-hover:opacity-100 opacity-0 duration-200",children:s.jsx(h,{name:"circle-ellipsis",size:40,className:"fill-white z-10"})})]},a))}),l&&s.jsx(j,{photo:l,onClose:()=>r(null),onUpdated:(t,a)=>{if(a){const o=e.findIndex(i=>i.id===l.id);o!==-1&&e.splice(o,1)}else if(t){const o=e.findIndex(i=>i.id===t.id);o!==-1&&(e[o]=t)}}})]})}export{w as default};
